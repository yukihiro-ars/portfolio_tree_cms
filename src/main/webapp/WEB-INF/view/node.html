<!DOCTYPE html>
<html lang="ja"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymleaf.org">
<head th:replace="fragment/head :: head_fragment(title = 'Node画面', blocks = ~{::blocks}, script = ~{::script})")>
    <blocks></blocks>
    <script th:inline="javascript">
        function doRequestNode() {
            ajaxHelper.doRequest($("#nodeForm"));
        };
    </script>
</head>
<body>
<h2>Node!</h2>
<div class="container">
    <!-- 選択中のNodeType,ContentsTypeによってactionを動的に変更 -->
    <form id="nodeForm" method="post" th:action="@{/node}">
        <input th:field="${parentNodeId}" type="hidden"/><!-- TODO parentNodeIdの立ち位置を検討 -->
        <span th:replace="fragment/form_node :: form_fragment(formName = 'nodeForm')")></span>
        <span th:replace="fragment/form_contents :: form_fragment(formName = 'planeForm')")></span>
        <span th:replace="fragment/form_contents_plane :: form_fragment(formName = 'planeForm')")></span>
        <!--
        <button type="button" class="btn btn-outline-primary" onclick="doRequestNode()">登録/更新</button>
        -->
    </form>
</div>
</body>
</html>
